<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gadget Essentials PH</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Poppins',sans-serif}
body{background:linear-gradient(135deg,#0f172a,#0ea5e9);color:#fff;transition:.3s}
header{padding:40px 20px;text-align:center}
header h1{font-size:2.5rem;font-weight:700}
header p{opacity:.8;margin-top:10px}

.container{width:95%;max-width:1400px;margin:auto}

.products{display:grid;grid-template-columns:repeat(4,1fr);gap:20px;margin-bottom:60px}
@media(max-width:1024px){.products{grid-template-columns:repeat(2,1fr)}}
@media(max-width:600px){.products{grid-template-columns:1fr}}

.card{background:rgba(255,255,255,.1);backdrop-filter:blur(15px);border-radius:20px;padding:15px;box-shadow:0 10px 30px rgba(0,0,0,.3);transition:.3s}
.card:hover{transform:translateY(-8px)}
.card img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:15px;transition:.3s}
.card img:hover{transform:scale(1.05)}
.card h3{margin:10px 0;font-size:1.1rem}
.card p{font-size:.9rem;opacity:.8}
.card .price{font-weight:600;margin:8px 0}
.card button{width:100%;padding:10px;border:none;border-radius:12px;background:#10b981;color:#fff;font-weight:600;cursor:pointer;transition:.3s}
.card button:hover{background:#059669}

.admin-panel{background:#111827;padding:30px;border-radius:20px;margin-bottom:40px}
.admin-panel h2{margin-bottom:15px}
.admin-panel input,.admin-panel textarea{width:100%;padding:10px;margin-bottom:10px;border-radius:10px;border:none}
.admin-panel button{padding:10px 15px;border:none;border-radius:10px;background:#3b82f6;color:#fff;font-weight:600;cursor:pointer}
.admin-panel button:hover{background:#2563eb}
.edit-btn{background:#f59e0b;margin-top:5px}
.delete-btn{background:#ef4444;margin-top:5px}

#offlineBanner{display:none;background:#f59e0b;color:#fff;padding:10px;text-align:center;font-weight:600}
</style>
</head>
<body>

<div id="offlineBanner">⚠ You are viewing in OFFLINE mode.</div>

<header>
<h1>Welcome to Gadget Essentials PH</h1>
<p>Premium Tech Accessories • Powerbanks • Gadget Essentials</p>
</header>

<div class="container">

<div class="admin-panel">
<h2>Admin Product Editor</h2>
<input type="hidden" id="editIndex">
<input type="text" id="productName" placeholder="Product Name">
<textarea id="productDesc" placeholder="Product Description"></textarea>
<input type="text" id="productPrice" placeholder="Price">
<input type="text" id="productImage" placeholder="Image URL">
<input type="text" id="productLink" placeholder="Shopee Affiliate Link">
<button onclick="saveProduct()">Save Product</button>
</div>

<div class="products" id="productList"></div>

</div>

<script>
let products = JSON.parse(localStorage.getItem("products")) || [];

function renderProducts(){
  const container=document.getElementById("productList");
  container.innerHTML="";
  products.forEach((product,index)=>{
    container.innerHTML+=`
      <div class="card">
        <img src="${product.image}" alt="">
        <h3>${product.name}</h3>
        <p>${product.desc}</p>
        <div class="price">₱${product.price}</div>
        <button onclick="window.open('${product.link}','_blank')">Buy Now</button>
        <button class="edit-btn" onclick="editProduct(${index})">Edit</button>
        <button class="delete-btn" onclick="deleteProduct(${index})">Delete</button>
      </div>
    `;
  });
}

function saveProduct(){
  const name=document.getElementById("productName").value;
  const desc=document.getElementById("productDesc").value;
  const price=document.getElementById("productPrice").value;
  const image=document.getElementById("productImage").value;
  const link=document.getElementById("productLink").value;
  const editIndex=document.getElementById("editIndex").value;

  if(editIndex===""){
    products.push({name,desc,price,image,link});
  }else{
    products[editIndex]={name,desc,price,image,link};
  }

  localStorage.setItem("products",JSON.stringify(products));
  document.getElementById("editIndex").value="";
  document.getElementById("productName").value="";
  document.getElementById("productDesc").value="";
  document.getElementById("productPrice").value="";
  document.getElementById("productImage").value="";
  document.getElementById("productLink").value="";
  renderProducts();
}

function editProduct(index){
  const product=products[index];
  document.getElementById("editIndex").value=index;
  document.getElementById("productName").value=product.name;
  document.getElementById("productDesc").value=product.desc;
  document.getElementById("productPrice").value=product.price;
  document.getElementById("productImage").value=product.image;
  document.getElementById("productLink").value=product.link;
}

function deleteProduct(index){
  products.splice(index,1);
  localStorage.setItem("products",JSON.stringify(products));
  renderProducts();
}

function updateOnlineStatus(){
  const banner=document.getElementById("offlineBanner");
  banner.style.display=navigator.onLine?"none":"block";
}
window.addEventListener("load",updateOnlineStatus);
window.addEventListener("online",updateOnlineStatus);
window.addEventListener("offline",updateOnlineStatus);

if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js');
}

renderProducts();
</script>

</body>
</html>
